# Notion â†’ Gemini â†’ Slack è‡ªå‹•å‡¦ç†ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

Notionãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æœªå‡¦ç†ã‚¢ã‚¤ãƒ†ãƒ ã‚’å–å¾—ã—ã€Google Gemini APIã§å‡¦ç†ã—ã¦ã€çµæœã‚’Slackã«é€šçŸ¥ã™ã‚‹è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã™ã€‚

## æ©Ÿèƒ½

- Notionãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰æœªå‡¦ç†ï¼ˆCheckbox=Falseï¼‰ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’è‡ªå‹•å–å¾—
- Gemini API ã® `system_instruction` ã§å½¹å‰²ã‚’è¨­å®šï¼ˆGemsã®ã‚ˆã†ãªæ©Ÿèƒ½ï¼‰
- å‡¦ç†çµæœã‚’Slackã«ãƒªãƒƒãƒãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§é€šçŸ¥
- å‡¦ç†å®Œäº†å¾Œã€Notionã®å‡¦ç†æ¸ˆã¿ãƒ•ãƒ©ã‚°ã‚’è‡ªå‹•æ›´æ–°

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 0. äº‹å‰æº–å‚™

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å‹•ã‹ã™ã«ã¯ã€**ã‚¿ãƒ¼ãƒŸãƒŠãƒ«**ï¼ˆã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹ç”»é¢ï¼‰ã‚’ä½¿ã„ã¾ã™ã€‚

#### macOSã®å ´åˆ
1. **Spotlightæ¤œç´¢**ï¼ˆCmd + Spaceï¼‰ã‚’é–‹ã
2. ã€Œã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã€ã¾ãŸã¯ã€ŒTerminalã€ã¨å…¥åŠ›ã—ã¦Enter
3. é»’ã„ç”»é¢ãŒé–‹ãã¾ã™ï¼ˆã“ã‚ŒãŒã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ã™ï¼‰

#### Windowsã®å ´åˆ
1. **ã‚¹ã‚¿ãƒ¼ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼**ã‚’é–‹ã
2. ã€Œã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã€ã¾ãŸã¯ã€ŒPowerShellã€ã¨æ¤œç´¢ã—ã¦é–‹ã

#### ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«æ–‡å­—ãŒå…¥åŠ›ã§ããªã„å ´åˆ

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‹ã„ãŸã®ã«æ–‡å­—ãŒå…¥åŠ›ã§ããªã„å ´åˆã¯ã€ä»¥ä¸‹ã®å¯¾å‡¦æ³•ã‚’è©¦ã—ã¦ãã ã•ã„ï¼š

**æ–¹æ³•1: ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ãƒªã‚»ãƒƒãƒˆã™ã‚‹**
- **macOS**: `Ctrl + C` ã‚’æŠ¼ã—ã¦ã€ç¾åœ¨å®Ÿè¡Œä¸­ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ã¾ã™
- **Windows**: `Ctrl + C` ã‚’æŠ¼ã—ã¾ã™
- ãã‚Œã§ã‚‚å…¥åŠ›ã§ããªã„å ´åˆã¯ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‰ã˜ã¦å†åº¦é–‹ã„ã¦ãã ã•ã„

**æ–¹æ³•2: ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ãŒåˆ¥ã®ãƒ¢ãƒ¼ãƒ‰ã«å…¥ã£ã¦ã„ã‚‹å ´åˆ**
- ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ãŒã‚¨ãƒ‡ã‚£ã‚¿ãƒ¢ãƒ¼ãƒ‰ï¼ˆvi/vimãªã©ï¼‰ã«å…¥ã£ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™
- `Esc` ã‚­ãƒ¼ã‚’æ•°å›æŠ¼ã—ã¦ã¿ã¦ãã ã•ã„
- ãã®å¾Œã€`:q` ã¨å…¥åŠ›ã—ã¦Enterã‚’æŠ¼ã™ã¨ã€ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¢ãƒ¼ãƒ‰ã‹ã‚‰æŠœã‘ã‚‰ã‚Œã¾ã™

**æ–¹æ³•3: æ–°ã—ã„ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‹ã**
- ç¾åœ¨ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ãŒãƒ•ãƒªãƒ¼ã‚ºã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™
- ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’å®Œå…¨ã«é–‰ã˜ã¦ã€æ–°ã—ãé–‹ãç›´ã—ã¦ãã ã•ã„

**æ–¹æ³•4: ã‚«ãƒ¼ã‚½ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª**
- ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã« `$`ï¼ˆmacOSï¼‰ã‚„ `>`ï¼ˆWindowsï¼‰ã®ã‚ˆã†ãªè¨˜å·ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„
- ã“ã®è¨˜å·ã®å¾Œã‚ã«ã‚«ãƒ¼ã‚½ãƒ«ï¼ˆç‚¹æ»…ã™ã‚‹ç¸¦ç·šï¼‰ãŒã‚ã‚‹ã¯ãšã§ã™
- ã‚«ãƒ¼ã‚½ãƒ«ãŒãªã„å ´åˆã¯ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å†…ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’å½“ã¦ã¦ãã ã•ã„

**æ­£å¸¸ãªçŠ¶æ…‹ã®ç›®å°:**
- ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®æœ€å¾Œã®è¡Œã«ã€`$` ã‚„ `>` ã®ã‚ˆã†ãªè¨˜å·ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹
- ãã®è¨˜å·ã®å¾Œã‚ã«ç‚¹æ»…ã™ã‚‹ã‚«ãƒ¼ã‚½ãƒ«ãŒã‚ã‚‹
- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’æŠ¼ã™ã¨æ–‡å­—ãŒå…¥åŠ›ã•ã‚Œã‚‹

#### ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ãƒšãƒ¼ã‚¹ãƒˆï¼ˆè²¼ã‚Šä»˜ã‘ï¼‰ãŒã§ããªã„å ´åˆ

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ã¯ã€é€šå¸¸ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã¯ç•°ãªã‚‹æ–¹æ³•ã§ãƒšãƒ¼ã‚¹ãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š

**macOSã®å ´åˆ:**
- **æ–¹æ³•1ï¼ˆæ¨å¥¨ï¼‰**: `Cmd + V` ã‚’æŠ¼ã™
  - é€šå¸¸ã®ã‚¢ãƒ—ãƒªã¨åŒã˜ã‚ˆã†ã«ã€`Cmd + V` ã§ãƒšãƒ¼ã‚¹ãƒˆã§ãã¾ã™
- **æ–¹æ³•2**: å³ã‚¯ãƒªãƒƒã‚¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ã€Œãƒšãƒ¼ã‚¹ãƒˆã€ã‚’é¸æŠ
  - ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å†…ã§å³ã‚¯ãƒªãƒƒã‚¯ï¼ˆã¾ãŸã¯ Control + ã‚¯ãƒªãƒƒã‚¯ï¼‰ã—ã¦ã€ã€Œãƒšãƒ¼ã‚¹ãƒˆã€ã‚’é¸æŠ
- **æ–¹æ³•3**: ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®è¨­å®šã‚’ç¢ºèª
  - ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¢ãƒ—ãƒªã®ã€Œç’°å¢ƒè¨­å®šã€â†’ã€Œãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã€â†’ã€Œã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã€ã§ã€ã€ŒOption ã‚­ãƒ¼ã‚’ Meta ã‚­ãƒ¼ã¨ã—ã¦ä½¿ç”¨ã€ã®ãƒã‚§ãƒƒã‚¯ã‚’å¤–ã™

**Windowsã®å ´åˆ:**
- **æ–¹æ³•1ï¼ˆæ¨å¥¨ï¼‰**: `Ctrl + V` ã‚’æŠ¼ã™
  - é€šå¸¸ã®ã‚¢ãƒ—ãƒªã¨åŒã˜ã‚ˆã†ã«ã€`Ctrl + V` ã§ãƒšãƒ¼ã‚¹ãƒˆã§ãã¾ã™
- **æ–¹æ³•2**: å³ã‚¯ãƒªãƒƒã‚¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ã€Œè²¼ã‚Šä»˜ã‘ã€ã‚’é¸æŠ
  - ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å†…ã§å³ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ã€Œè²¼ã‚Šä»˜ã‘ã€ã‚’é¸æŠ
- **æ–¹æ³•3ï¼ˆPowerShellã®å ´åˆï¼‰**: `Shift + Insert` ã‚’æŠ¼ã™
  - PowerShellã§ã¯ã€`Shift + Insert` ã§ã‚‚ãƒšãƒ¼ã‚¹ãƒˆã§ãã¾ã™

**ãƒšãƒ¼ã‚¹ãƒˆãŒã†ã¾ãã„ã‹ãªã„å ´åˆ:**
- ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å†…ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒå½“ãŸã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„
- ã‚³ãƒ”ãƒ¼ã—ãŸãƒ†ã‚­ã‚¹ãƒˆãŒã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«æ­£ã—ãä¿å­˜ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ï¼ˆä»–ã®ã‚¢ãƒ—ãƒªã§ `Cmd + V` / `Ctrl + V` ã‚’è©¦ã—ã¦ã¿ã¦ãã ã•ã„ï¼‰
- ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’æ–°ã—ãé–‹ãç›´ã—ã¦ã¿ã¦ãã ã•ã„

**é•·ã„ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹å ´åˆ:**
- APIã‚­ãƒ¼ãªã©ã®é•·ã„æ–‡å­—åˆ—ã¯ã€ç›´æ¥å…¥åŠ›ã™ã‚‹ã®ã§ã¯ãªãã€å¿…ãšã‚³ãƒ”ãƒ¼&ãƒšãƒ¼ã‚¹ãƒˆã‚’ä½¿ã†ã“ã¨ã‚’ãŠã™ã™ã‚ã—ã¾ã™
- æ‰‹å…¥åŠ›ã ã¨é–“é•ã„ã‚„ã™ã„ãŸã‚ã§ã™

---

### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã™ã‚‹

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ãŒé–‹ã„ãŸã‚‰ã€ã¾ãšã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã—ã¾ã™ã€‚

**macOSã®å ´åˆ:**
```bash
cd "/Users/shotaronakamura/Claude Code/dev/è­°äº‹éŒ²â†’Slack"
```

**Windowsã®å ´åˆ:**
```bash
cd "C:\Users\ã‚ãªãŸã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å\Claude Code\dev\è­°äº‹éŒ²â†’Slack"
```

> ğŸ’¡ **ã‚³ãƒãƒ³ãƒ‰ã®æ„å‘³**: `cd` ã¯ã€ŒChange Directoryï¼ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å¤‰æ›´ã™ã‚‹ï¼‰ã€ã®ç•¥ã§ã€ãƒ•ã‚©ãƒ«ãƒ€ã‚’ç§»å‹•ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚

**ç¢ºèªæ–¹æ³•**: ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã« `pwd`ï¼ˆmacOSï¼‰ã¾ãŸã¯ `cd`ï¼ˆWindowsï¼‰ã¨å…¥åŠ›ã—ã¦Enterã‚’æŠ¼ã™ã¨ã€ç¾åœ¨ã®ãƒ•ã‚©ãƒ«ãƒ€ã®å ´æ‰€ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

---

### 2. ä»®æƒ³ç’°å¢ƒã‚’ä½œæˆã™ã‚‹ï¼ˆæ¨å¥¨ãƒ»ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

ä»–ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¨å¹²æ¸‰ã—ãªã„ã‚ˆã†ã«ã€ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå°‚ç”¨ã®ç’°å¢ƒã‚’ä½œã‚Šã¾ã™ã€‚

**macOSã®å ´åˆ:**
```bash
python3 -m venv venv
source venv/bin/activate
```

**Windowsã®å ´åˆ:**
```bash
python -m venv venv
venv\Scripts\activate
```

> ğŸ’¡ **ã‚³ãƒãƒ³ãƒ‰ã®æ„å‘³**: 
> - `python3 -m venv venv` = ä»®æƒ³ç’°å¢ƒã¨ã„ã†å°‚ç”¨ã®ç®±ã‚’ä½œã‚‹
> - `source venv/bin/activate` = ãã®ç®±ã®ä¸­ã«å…¥ã‚‹ï¼ˆmacOSï¼‰
> - `venv\Scripts\activate` = ãã®ç®±ã®ä¸­ã«å…¥ã‚‹ï¼ˆWindowsï¼‰

**æˆåŠŸã®ç›®å°**: ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®å…ˆé ­ã« `(venv)` ã¨è¡¨ç¤ºã•ã‚Œã‚Œã°æˆåŠŸã§ã™ã€‚

> âš ï¸ **ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹å ´åˆ**: 
> - ã€Œpython3 ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€â†’ PythonãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚[Pythonå…¬å¼ã‚µã‚¤ãƒˆ](https://www.python.org/downloads/)ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ã€‚
> - ã€Œcommand not foundã€â†’ ã‚³ãƒãƒ³ãƒ‰ã®ã‚¹ãƒšãƒ«ãƒŸã‚¹ãŒãªã„ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚

---

### 3. å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒå‹•ããŸã‚ã«å¿…è¦ãªéƒ¨å“ï¼ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼‰ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚

```bash
pip install -r requirements.txt
```

> ğŸ’¡ **ã‚³ãƒãƒ³ãƒ‰ã®æ„å‘³**: `pip` ã¯Pythonã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚`requirements.txt` ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ã‹ã‚ŒãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¸€æ‹¬ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

**æˆåŠŸã®ç›®å°**: ã€ŒSuccessfully installedã€ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚Œã°æˆåŠŸã§ã™ã€‚

> âš ï¸ **ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹å ´åˆ**:
> - ã€Œpip ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€â†’ `pip3 install -r requirements.txt` ã‚’è©¦ã—ã¦ãã ã•ã„ï¼ˆmacOSã®å ´åˆï¼‰
> - ã€ŒPermission deniedã€â†’ `pip install --user -r requirements.txt` ã‚’è©¦ã—ã¦ãã ã•ã„

---

### 4. ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹

APIã‚­ãƒ¼ãªã©ã®ç§˜å¯†æƒ…å ±ã‚’ä¿å­˜ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã¾ã™ã€‚

**macOSã®å ´åˆ:**
```bash
touch .env
```

**Windowsã®å ´åˆ:**
```bash
type nul > .env
```

ã¾ãŸã¯ã€**ã‚¨ãƒ‡ã‚£ã‚¿ï¼ˆãƒ¡ãƒ¢å¸³ãªã©ï¼‰ã§ç›´æ¥ `.env` ã¨ã„ã†åå‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ**ã—ã¦ã‚‚OKã§ã™ã€‚

> ğŸ’¡ **ã‚³ãƒãƒ³ãƒ‰ã®æ„å‘³**: `.env` ã¨ã„ã†åå‰ã®ç©ºã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«å¾Œã§APIã‚­ãƒ¼ãªã©ã‚’æ›¸ãè¾¼ã¿ã¾ã™ã€‚

---

### 5. ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ.envï¼‰ã‚’ç·¨é›†ã™ã‚‹

ä½œæˆã—ãŸ `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã„ã¦ã€ä»¥ä¸‹ã®å†…å®¹ã‚’æ›¸ãè¾¼ã¿ã¾ã™ã€‚

**ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã§é–‹ãæ–¹æ³•:**
- **macOS**: ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ `open -a TextEdit .env` ã¨å…¥åŠ›
- **Windows**: ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ã§ `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å³ã‚¯ãƒªãƒƒã‚¯â†’ã€Œãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‹ã‚‰é–‹ãã€â†’ã€Œãƒ¡ãƒ¢å¸³ã€

ä»¥ä¸‹ã®å½¢å¼ã§æ›¸ãè¾¼ã¿ã¾ã™ï¼ˆ`=` ã®å¾Œã‚ã«å®Ÿéš›ã®å€¤ã‚’å…¥åŠ›ï¼‰ï¼š

```env
NOTION_API_KEY=ã“ã“ã«Notionã®APIã‚­ãƒ¼ã‚’è²¼ã‚Šä»˜ã‘
NOTION_DATABASE_ID=ã“ã“ã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹IDã‚’è²¼ã‚Šä»˜ã‘
GEMINI_API_KEY=ã“ã“ã«Geminiã®APIã‚­ãƒ¼ã‚’è²¼ã‚Šä»˜ã‘
GEMINI_MODEL=gemini-1.5-pro
SLACK_WEBHOOK_URL=ã“ã“ã«Slackã®Webhook URLã‚’è²¼ã‚Šä»˜ã‘
```

> âš ï¸ **é‡è¦**: 
> - å„è¡Œã®æœ€å¾Œã«ä½™è¨ˆãªã‚¹ãƒšãƒ¼ã‚¹ã‚„æ”¹è¡Œã‚’å…¥ã‚Œãªã„ã§ãã ã•ã„
> - `=` ã®å‰å¾Œã«ã‚¹ãƒšãƒ¼ã‚¹ã‚’å…¥ã‚Œãªã„ã§ãã ã•ã„
> - å€¤ã«ã‚¹ãƒšãƒ¼ã‚¹ãŒå«ã¾ã‚Œã‚‹å ´åˆã¯ã€å…¨ä½“ã‚’ `"` ã§å›²ã‚“ã§ãã ã•ã„

---

### 6. APIã‚­ãƒ¼ã‚’å–å¾—ã—ã¦.envãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã‚€

`.env` ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã‚€ãŸã‚ã®APIã‚­ãƒ¼ã‚’å–å¾—ã—ã¾ã™ã€‚ä»¥ä¸‹ã®3ã¤ã®ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰APIã‚­ãƒ¼ã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š

1. **Notion APIã‚­ãƒ¼** - Notionãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚
2. **Google Gemini APIã‚­ãƒ¼** - AIã§è­°äº‹éŒ²ã‚’å‡¦ç†ã™ã‚‹ãŸã‚
3. **Slack Webhook URL** - Slackã«é€šçŸ¥ã‚’é€ã‚‹ãŸã‚

ãã‚Œãã‚Œã®æ‰‹é †ã«å¾“ã£ã¦ã€å–å¾—ã—ãŸã‚­ãƒ¼ã‚’ `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã¿ã¾ã—ã‚‡ã†ã€‚

#### 6-1. Notion APIã‚­ãƒ¼ã‚’å–å¾—ã™ã‚‹

1. **Notionã®ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒšãƒ¼ã‚¸ã‚’é–‹ã**
   - ãƒ–ãƒ©ã‚¦ã‚¶ã§ [https://www.notion.so/my-integrations](https://www.notion.so/my-integrations) ã‚’é–‹ã
   - Notionã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ãªã„å ´åˆã¯ã€ã¾ãšãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„

2. **æ–°ã—ã„ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆ**
   - ãƒšãƒ¼ã‚¸å³ä¸Šã®ã€Œ**+ æ–°ã—ã„ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - åå‰ã‚’å…¥åŠ›ï¼ˆä¾‹ï¼šã€Œè­°äº‹éŒ²å‡¦ç†Botã€ï¼‰
   - **é‡è¦**: ã€ŒInternal Integrationã€ã‚’é¸æŠã—ã¦ãã ã•ã„ï¼ˆPublic Integrationã§ã¯ã‚ã‚Šã¾ã›ã‚“ï¼‰
   - ã€Œé€ä¿¡ã€ã¾ãŸã¯ã€Œä½œæˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

3. **APIã‚­ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼**
   - ä½œæˆã•ã‚ŒãŸã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒšãƒ¼ã‚¸ãŒé–‹ãã¾ã™
   - ã€ŒInternal Integration Secretã€ã¨ã„ã†æ¬„ã«é•·ã„æ–‡å­—åˆ—ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™
   - ãã®æ–‡å­—åˆ—ã‚’**ã™ã¹ã¦ã‚³ãƒ”ãƒ¼**ã—ã¦ãã ã•ã„ï¼ˆ`secret_` ã§å§‹ã¾ã‚‹æ–‡å­—åˆ—ã§ã™ï¼‰
   - ã“ã®æ–‡å­—åˆ—ã‚’ `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã® `NOTION_API_KEY=` ã®å¾Œã‚ã«è²¼ã‚Šä»˜ã‘ã¾ã™

4. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹IDã‚’å–å¾—**
   - Notionã§ã€ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§å‡¦ç†ã—ãŸã„ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’é–‹ã„ã¦ãã ã•ã„
   - ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã‚’è¦‹ã¦ãã ã•ã„ã€‚URLã¯ä»¥ä¸‹ã®ã‚ˆã†ãªå½¢å¼ã§ã™ï¼š
     ```
     https://www.notion.so/xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx?v=...
     ```
   - `notion.so/` ã®å¾Œã‚ã®32æ–‡å­—ã®è‹±æ•°å­—ï¼ˆ`x` ã®éƒ¨åˆ†ï¼‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™
   - ã“ã®æ–‡å­—åˆ—ã‚’ `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã® `NOTION_DATABASE_ID=` ã®å¾Œã‚ã«è²¼ã‚Šä»˜ã‘ã¾ã™

5. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ¥ç¶š**
   - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒšãƒ¼ã‚¸ã‚’é–‹ãã¾ã™ï¼ˆ**é‡è¦**: ãƒšãƒ¼ã‚¸å†…ã®åŸ‹ã‚è¾¼ã¿ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§ã¯ãªãã€ç‹¬ç«‹ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒšãƒ¼ã‚¸ã‚’é–‹ã„ã¦ãã ã•ã„ï¼‰
   - ãƒšãƒ¼ã‚¸å³ä¸Šã®ã€Œ**...**ã€ï¼ˆä¸‰ç‚¹ãƒªãƒ¼ãƒ€ãƒ¼ï¼‰ã‚’ã‚¯ãƒªãƒƒã‚¯
   - ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ã€Œ**æ¥ç¶š**ã€ã‚’é¸æŠ
   - å…ˆã»ã©ä½œæˆã—ãŸã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆä¾‹ï¼šã€Œè­°äº‹éŒ²å‡¦ç†Botã€ï¼‰ã‚’é¸æŠ
   - ã“ã‚Œã§ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™

   **ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆ:**
   - ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢: Cmd+Shift+R / Ctrl+Shift+Rï¼‰
   - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒ**åŒã˜ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹**å†…ã«ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªï¼ˆInternal Integrationã¯åŒã˜ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹å†…ã§ã®ã¿ä½¿ç”¨å¯èƒ½ï¼‰
   - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒšãƒ¼ã‚¸ã®**ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«**ã‚’é–‹ã„ã¦ã„ã‚‹ã‹ç¢ºèªï¼ˆã‚µã‚¤ãƒ‰ãƒãƒ¼ã‹ã‚‰ç›´æ¥é–‹ã‘ã‚‹ãƒšãƒ¼ã‚¸ï¼‰
   - ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®è¨­å®šãƒšãƒ¼ã‚¸ã§ã€ä½œæˆã—ãŸã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒã€Œæœ‰åŠ¹ã€ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª
   - åˆ¥ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‚„ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãƒ¢ãƒ¼ãƒ‰ã§è©¦ã™

#### 6-2. Google Gemini APIã‚­ãƒ¼ã‚’å–å¾—ã™ã‚‹

1. **Google AI Studioã‚’é–‹ã**
   - ãƒ–ãƒ©ã‚¦ã‚¶ã§ [https://aistudio.google.com/apikey](https://aistudio.google.com/apikey) ã‚’é–‹ã
   - Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„

2. **APIã‚­ãƒ¼ã‚’ä½œæˆ**
   - ã€Œ**ã‚­ãƒ¼ã‚’ä½œæˆ**ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - ã‚­ãƒ¼åã‚’å…¥åŠ›ï¼ˆä¾‹ï¼šã€Œè­°äº‹éŒ²ä½œæˆBotã€ï¼‰
   - ã€Œ**ã‚­ãƒ¼ã‚’ä½œæˆ**ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

   **ã€Œã‚­ãƒ¼ã‚’ä½œæˆã€ãƒœã‚¿ãƒ³ãŒæŠ¼ã›ãªã„å ´åˆ:**
   - Google Cloud ProjectãŒå¿…è¦ã§ã™ã€‚ä»¥ä¸‹ã®æ‰‹é †ã§è§£æ±ºã§ãã¾ã™ï¼š
   
   **è§£æ±ºæ–¹æ³•:**
   1. [Google Cloud Console](https://console.cloud.google.com/) ã«ã‚¢ã‚¯ã‚»ã‚¹
   2. åˆã‚ã¦ã®å ´åˆã¯ã€åˆ©ç”¨è¦ç´„ã«åŒæ„ã—ã¾ã™
   3. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ:
      - ç”»é¢ä¸Šéƒ¨ã®ã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é¸æŠã€ã‚’ã‚¯ãƒªãƒƒã‚¯
      - ã€Œæ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯
      - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å…¥åŠ›ï¼ˆä¾‹ï¼šã€Œè­°äº‹éŒ²å‡¦ç†ã€ï¼‰
      - ã€Œä½œæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯
   4. Google AI Studioã«æˆ»ã‚Šã€ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ï¼ˆF5ã‚­ãƒ¼ã¾ãŸã¯Cmd+R / Ctrl+Rï¼‰
   5. ã€Œã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é¸æŠã€ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‹ã‚‰ã€ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é¸æŠ
   6. ã“ã‚Œã§ã€Œã‚­ãƒ¼ã‚’ä½œæˆã€ãƒœã‚¿ãƒ³ãŒæŠ¼ã›ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™

3. **APIã‚­ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼**
   - ä½œæˆã•ã‚ŒãŸAPIã‚­ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
   - **ã™ãã«ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„**ï¼ˆã“ã®ç”»é¢ã‚’é–‰ã˜ã‚‹ã¨ã€ã‚‚ã†ä¸€åº¦ç¢ºèªã§ãã¾ã›ã‚“ï¼‰
   - ã“ã®æ–‡å­—åˆ—ã‚’ `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã® `GEMINI_API_KEY=` ã®å¾Œã‚ã«è²¼ã‚Šä»˜ã‘ã¾ã™

4. **ãƒ¢ãƒ‡ãƒ«åã‚’è¨­å®š**
   - `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã® `GEMINI_MODEL=` ã®å¾Œã‚ã« `gemini-1.5-pro` ã¨å…¥åŠ›ã—ã¾ã™ï¼ˆæ—¢ã«å…¥åŠ›ã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ãã®ã¾ã¾ã§OKï¼‰

#### 6-3. Slack Webhook URLã‚’å–å¾—ã™ã‚‹

1. **Slack APIãƒšãƒ¼ã‚¸ã‚’é–‹ã**
   - ãƒ–ãƒ©ã‚¦ã‚¶ã§ [https://api.slack.com/apps](https://api.slack.com/apps) ã‚’é–‹ã
   - Slackã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„

2. **æ–°ã—ã„ã‚¢ãƒ—ãƒªã‚’ä½œæˆ**
   - ã€Œ**æ–°ã—ã„ã‚¢ãƒ—ãƒªã‚’ä½œæˆ**ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - ã€Œ**From scratch**ã€ï¼ˆæœ€åˆã‹ã‚‰ï¼‰ã‚’é¸æŠ
   - ã‚¢ãƒ—ãƒªåã‚’å…¥åŠ›ï¼ˆä¾‹ï¼šã€Œè­°äº‹éŒ²é€šçŸ¥Botã€ï¼‰
   - é€šçŸ¥ã‚’é€ã‚ŠãŸã„ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã‚’é¸æŠ
   - ã€Œ**ã‚¢ãƒ—ãƒªã‚’ä½œæˆ**ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

3. **Incoming Webhooksã‚’æœ‰åŠ¹åŒ–**
   - å·¦å´ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ã€Œ**Incoming Webhooks**ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
   - ã€Œ**Activate Incoming Webhooks**ã€ã®ã‚¹ã‚¤ãƒƒãƒã‚’**ON**ã«ã—ã¾ã™

4. **Webhook URLã‚’å–å¾—**
   - ãƒšãƒ¼ã‚¸ã‚’ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ã€ã€Œ**Add New Webhook to Workspace**ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - é€šçŸ¥ã‚’é€ã‚ŠãŸã„ãƒãƒ£ãƒ³ãƒãƒ«ã‚’é¸æŠã—ã¦ã€Œ**è¨±å¯**ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
   - ã€ŒWebhook URLã€ã¨ã„ã†æ¬„ã«URLãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼ˆ`https://hooks.slack.com/services/...` ã§å§‹ã¾ã‚‹URLï¼‰
   - ã“ã®URLã‚’**ã™ã¹ã¦ã‚³ãƒ”ãƒ¼**ã—ã¦ãã ã•ã„
   - ã“ã®URLã‚’ `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã® `SLACK_WEBHOOK_URL=` ã®å¾Œã‚ã«è²¼ã‚Šä»˜ã‘ã¾ã™

5. **.envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜**
   - ã™ã¹ã¦ã®APIã‚­ãƒ¼ã‚’å…¥åŠ›ã—ãŸã‚‰ã€`.env` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ã—ã¦ãã ã•ã„
   - ã‚¨ãƒ‡ã‚£ã‚¿ã§ã€Œä¿å­˜ã€ï¼ˆCmd+S / Ctrl+Sï¼‰ã‚’æŠ¼ã—ã¾ã™

### 7. Notionãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æº–å‚™ã™ã‚‹

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒå‹•ä½œã™ã‚‹ãŸã‚ã«ã¯ã€Notionãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ç‰¹å®šã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆåˆ—ï¼‰ãŒå¿…è¦ã§ã™ã€‚

#### å¿…è¦ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã™ã‚‹

1. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’é–‹ã**
   - Notionã§ã€ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§å‡¦ç†ã—ãŸã„ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’é–‹ãã¾ã™

2. **ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ **
   - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å³ä¸Šã«ã‚ã‚‹ã€Œ**+**ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€æ–°ã—ã„åˆ—ï¼ˆãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼‰ã‚’è¿½åŠ ã—ã¾ã™
   - ä»¥ä¸‹ã®3ã¤ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒå¿…è¦ã§ã™ï¼š

   **â‘  å‡¦ç†æ¸ˆã¿ï¼ˆCheckboxå‹ï¼‰**
   - ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å: `å‡¦ç†æ¸ˆã¿`
   - ã‚¿ã‚¤ãƒ—: **Checkbox**ï¼ˆãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ï¼‰ã‚’é¸æŠ
   - èª¬æ˜: ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒå‡¦ç†ã—ãŸã‹ã©ã†ã‹ã‚’è¨˜éŒ²ã—ã¾ã™ã€‚ãƒã‚§ãƒƒã‚¯ãŒå…¥ã£ã¦ã„ãªã„ï¼ˆFalseï¼‰ã‚¢ã‚¤ãƒ†ãƒ ãŒå‡¦ç†å¯¾è±¡ã«ãªã‚Šã¾ã™

   **â‘¡ ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆTitleå‹ï¼‰**
   - ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å: `ã‚¿ã‚¤ãƒˆãƒ«`
   - ã‚¿ã‚¤ãƒ—: **Title**ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ï¼‰ã‚’é¸æŠ
   - èª¬æ˜: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å„è¡Œã®ã‚¿ã‚¤ãƒˆãƒ«ã§ã™ã€‚é€šå¸¸ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã¯æœ€åˆã‹ã‚‰ã“ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒã‚ã‚Šã¾ã™

   **â‘¢ æœ¬æ–‡ï¼ˆRich Textå‹ï¼‰**
   - ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å: `æœ¬æ–‡`
   - ã‚¿ã‚¤ãƒ—: **Text**ï¼ˆãƒ†ã‚­ã‚¹ãƒˆï¼‰ã¾ãŸã¯ **Rich Text**ï¼ˆãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆï¼‰ã‚’é¸æŠ
   - èª¬æ˜: å‡¦ç†ã—ãŸã„å†…å®¹ï¼ˆè­°äº‹éŒ²ã®æœ¬æ–‡ãªã©ï¼‰ã‚’ã“ã“ã«å…¥åŠ›ã—ã¾ã™

3. **ç¢ºèª**
   - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¸Šè¨˜ã®3ã¤ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„
   - ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åã¯æ­£ç¢ºã«ä¸€è‡´ã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼ˆå¤§æ–‡å­—å°æ–‡å­—ã€å…¨è§’åŠè§’ã«æ³¨æ„ï¼‰

> ğŸ’¡ **ãƒ’ãƒ³ãƒˆ**: ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åã¯ `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã§å¤‰æ›´ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ãŒã€åˆå¿ƒè€…ã®æ–¹ã¯ä¸Šè¨˜ã®åå‰ã®ã¾ã¾ä½¿ã†ã“ã¨ã‚’ãŠã™ã™ã‚ã—ã¾ã™ã€‚

## ä½¿ã„æ–¹

### ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã™ã‚‹

ã™ã¹ã¦ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ãŸã‚‰ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚

#### åŸºæœ¬çš„ãªå®Ÿè¡Œæ–¹æ³•

1. **ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‹ã**ï¼ˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®æ‰‹é †0ã‚’å‚ç…§ï¼‰

2. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã™ã‚‹**
   ```bash
   cd "/Users/shotaronakamura/Claude Code/dev/è­°äº‹éŒ²â†’Slack"
   ```
   ï¼ˆWindowsã®å ´åˆã¯ã€é©åˆ‡ãªãƒ‘ã‚¹ã«å¤‰æ›´ã—ã¦ãã ã•ã„ï¼‰

3. **ä»®æƒ³ç’°å¢ƒã‚’æœ‰åŠ¹åŒ–ã™ã‚‹**ï¼ˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †2ã§ä½œæˆã—ãŸå ´åˆï¼‰
   - macOS: `source venv/bin/activate`
   - Windows: `venv\Scripts\activate`

4. **ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã™ã‚‹**
   ```bash
   python main.py
   ```
   ã¾ãŸã¯
   ```bash
   python3 main.py
   ```

5. **çµæœã‚’ç¢ºèªã™ã‚‹**
   - ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«å‡¦ç†çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™
   - æˆåŠŸã—ãŸå ´åˆã¯ã€Slackã«é€šçŸ¥ãŒé€ä¿¡ã•ã‚Œã¾ã™
   - Notionãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã€Œå‡¦ç†æ¸ˆã¿ã€ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã«ãƒã‚§ãƒƒã‚¯ãŒå…¥ã‚Šã¾ã™

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ©Ÿèƒ½

**è©³ç´°ãªãƒ­ã‚°ã‚’è¡¨ç¤ºã™ã‚‹**
```bash
python main.py --verbose
```
å‡¦ç†ã®è©³ç´°ãªæƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã®åŸå› èª¿æŸ»ã«ä¾¿åˆ©ã§ã™ã€‚

**ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆå®Ÿéš›ã«ã¯å‡¦ç†ã—ãªã„ï¼‰**
```bash
python main.py --dry-run
```
å®Ÿéš›ã«ã¯å‡¦ç†ã›ãšã€ã©ã®ã‚¢ã‚¤ãƒ†ãƒ ãŒå‡¦ç†å¯¾è±¡ã«ãªã‚‹ã‹ã ã‘ã‚’ç¢ºèªã§ãã¾ã™ã€‚åˆã‚ã¦å®Ÿè¡Œã™ã‚‹å‰ã«è©¦ã™ã“ã¨ã‚’ãŠã™ã™ã‚ã—ã¾ã™ã€‚

> âš ï¸ **ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹å ´åˆ**:
> - ã€ŒModuleNotFoundErrorã€â†’ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †3ï¼ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„
> - ã€Œç’°å¢ƒå¤‰æ•°ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€â†’ `.env` ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ­£ã—ãä½œæˆã•ã‚Œã€APIã‚­ãƒ¼ãŒå…¥åŠ›ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„
> - ã€ŒNotion APIã‚¨ãƒ©ãƒ¼ã€â†’ Notionã®ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ¥ç¶šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„

## ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆGemsã®ã‚ˆã†ãªå½¹å‰²è¨­å®šï¼‰

`.env` ã® `GEMINI_SYSTEM_INSTRUCTION` ã¾ãŸã¯ `config.py` ã® `DEFAULT_SYSTEM_INSTRUCTION` ã§è¨­å®šã§ãã¾ã™ã€‚

### ä¾‹: è­°äº‹éŒ²è¦ç´„

```
ã‚ãªãŸã¯è­°äº‹éŒ²ã‚’è¦ç´„ã™ã‚‹å°‚é–€å®¶ã§ã™ã€‚
å…¥åŠ›ã•ã‚ŒãŸè­°äº‹éŒ²ã®å†…å®¹ã‚’ä»¥ä¸‹ã®å½¢å¼ã§ç°¡æ½”ã«ã¾ã¨ã‚ã¦ãã ã•ã„ï¼š

## æ¦‚è¦
ï¼ˆä¼šè­°ã®ä¸»é¡Œã‚’1-2æ–‡ã§ï¼‰

## æ±ºå®šäº‹é …
ï¼ˆç®‡æ¡æ›¸ãã§ï¼‰

## ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¢ã‚¤ãƒ†ãƒ 
ï¼ˆæ‹…å½“è€…ã¨æœŸé™ãŒã‚ã‚Œã°æ˜è¨˜ï¼‰
```

### ä¾‹: æŠ€è¡“æ–‡æ›¸ãƒ¬ãƒ“ãƒ¥ãƒ¼

```
ã‚ãªãŸã¯æŠ€è¡“æ–‡æ›¸ã®ãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼ã§ã™ã€‚
å…¥åŠ›ã•ã‚ŒãŸæ–‡æ›¸ã«ã¤ã„ã¦ä»¥ä¸‹ã®è¦³ç‚¹ã§ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š

1. å†…å®¹ã®æ­£ç¢ºæ€§
2. èª¬æ˜ã®åˆ†ã‹ã‚Šã‚„ã™ã•
3. æ”¹å–„ææ¡ˆ
```

---

## å®šæœŸå®Ÿè¡Œã®è¨­å®š

### æ–¹æ³•1: cronï¼ˆLinux/macOSï¼‰

```bash
# crontabã‚’ç·¨é›†
crontab -e

# ä¾‹: æ¯æ™‚0åˆ†ã«å®Ÿè¡Œ
0 * * * * cd /path/to/project && /usr/bin/python3 main.py >> /var/log/notion-gemini-slack.log 2>&1

# ä¾‹: å¹³æ—¥9æ™‚ã€œ18æ™‚ã€30åˆ†ã”ã¨ã«å®Ÿè¡Œ
*/30 9-18 * * 1-5 cd /path/to/project && /usr/bin/python3 main.py >> /var/log/notion-gemini-slack.log 2>&1
```

### æ–¹æ³•2: GitHub Actionsï¼ˆæ¨å¥¨ï¼‰

ãƒªãƒã‚¸ãƒˆãƒªã« `.github/workflows/process.yml` ã‚’ä½œæˆï¼š

```yaml
name: Notion to Slack Pipeline

on:
  schedule:
    # æ¯æ™‚0åˆ†ã«å®Ÿè¡Œï¼ˆUTCï¼‰
    - cron: '0 * * * *'
  workflow_dispatch:  # æ‰‹å‹•å®Ÿè¡Œã‚‚å¯èƒ½

jobs:
  process:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.11'

      - name: Install dependencies
        run: pip install -r requirements.txt

      - name: Run pipeline
        env:
          NOTION_API_KEY: ${{ secrets.NOTION_API_KEY }}
          NOTION_DATABASE_ID: ${{ secrets.NOTION_DATABASE_ID }}
          GEMINI_API_KEY: ${{ secrets.GEMINI_API_KEY }}
          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}
          GEMINI_SYSTEM_INSTRUCTION: ${{ secrets.GEMINI_SYSTEM_INSTRUCTION }}
        run: python main.py --verbose
```

**Secretsã®è¨­å®š:**
1. GitHubãƒªãƒã‚¸ãƒˆãƒªã® Settings â†’ Secrets and variables â†’ Actions
2. ã€ŒNew repository secretã€ã§å„ç’°å¢ƒå¤‰æ•°ã‚’è¿½åŠ 

### æ–¹æ³•3: AWS Lambda + EventBridge

```python
# lambda_handler.py
import json
from main import NotionGeminiSlackPipeline
from config import load_config

def lambda_handler(event, context):
    config = load_config()
    pipeline = NotionGeminiSlackPipeline(config)
    results = pipeline.run()

    return {
        'statusCode': 200,
        'body': json.dumps({
            'processed': len(results),
            'success': sum(1 for r in results if r.success),
        })
    }
```

EventBridgeï¼ˆæ—§CloudWatch Eventsï¼‰ã§ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­å®šã€‚

### æ–¹æ³•4: Google Cloud Functions + Cloud Scheduler

Cloud Functionsã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã€Cloud Schedulerã§ãƒˆãƒªã‚¬ãƒ¼ã€‚

### æ–¹æ³•5: systemd timerï¼ˆLinux ã‚µãƒ¼ãƒãƒ¼ï¼‰

```ini
# /etc/systemd/system/notion-gemini-slack.service
[Unit]
Description=Notion Gemini Slack Pipeline

[Service]
Type=oneshot
WorkingDirectory=/path/to/project
ExecStart=/usr/bin/python3 main.py
User=youruser
```

```ini
# /etc/systemd/system/notion-gemini-slack.timer
[Unit]
Description=Run Notion Gemini Slack Pipeline hourly

[Timer]
OnCalendar=hourly
Persistent=true

[Install]
WantedBy=timers.target
```

```bash
sudo systemctl enable notion-gemini-slack.timer
sudo systemctl start notion-gemini-slack.timer
```

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Notion APIã‚¨ãƒ©ãƒ¼

#### ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒè¦‹ã¤ã‹ã‚‰ãªã„
- **åŒã˜ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹å†…ã‹ç¢ºèª**: Internal Integrationã¯ä½œæˆã—ãŸãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹å†…ã§ã®ã¿ä½¿ç”¨å¯èƒ½ã§ã™
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒšãƒ¼ã‚¸ã‚’ç›´æ¥é–‹ã**: ãƒšãƒ¼ã‚¸å†…ã®åŸ‹ã‚è¾¼ã¿ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§ã¯ãªãã€ç‹¬ç«‹ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒšãƒ¼ã‚¸ã‚’é–‹ã„ã¦ãã ã•ã„
- **ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰**: ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ï¼ˆCmd+Shift+R / Ctrl+Shift+Rï¼‰ã—ã¦å†è©¦è¡Œ
- **ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®çŠ¶æ…‹ç¢ºèª**: https://www.notion.so/my-integrations ã§ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒã€Œæœ‰åŠ¹ã€ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª
- **åˆ¥ã®ãƒ–ãƒ©ã‚¦ã‚¶ã§è©¦ã™**: ãƒ–ãƒ©ã‚¦ã‚¶ã®æ‹¡å¼µæ©Ÿèƒ½ã‚„è¨­å®šãŒå½±éŸ¿ã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™

#### ãã®ä»–ã®Notion APIã‚¨ãƒ©ãƒ¼
- IntegrationãŒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ¥ç¶šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹IDãŒæ­£ã—ã„ã‹ç¢ºèªï¼ˆURLã‹ã‚‰ã‚³ãƒ”ãƒ¼ã€32æ–‡å­—ã®è‹±æ•°å­—ï¼‰
- ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åãŒæ­£ç¢ºã«ä¸€è‡´ã—ã¦ã„ã‚‹ã‹ç¢ºèªï¼ˆå¤§æ–‡å­—å°æ–‡å­—ã€å…¨è§’åŠè§’ã«æ³¨æ„ï¼‰
- APIã‚­ãƒ¼ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªï¼ˆå…ˆé ­ã® `secret_` ã‚’å«ã‚€å®Œå…¨ãªæ–‡å­—åˆ—ï¼‰

### Gemini APIã‚¨ãƒ©ãƒ¼

- APIã‚­ãƒ¼ãŒæœ‰åŠ¹ã‹ç¢ºèª
- ç„¡æ–™æ ã®åˆ¶é™ã«é”ã—ã¦ã„ãªã„ã‹ç¢ºèª
- ãƒ¢ãƒ‡ãƒ«åãŒæ­£ã—ã„ã‹ç¢ºèªï¼ˆ`gemini-1.5-pro`, `gemini-1.5-flash` ãªã©ï¼‰

### Slacké€šçŸ¥ãŒå±Šã‹ãªã„

- Webhook URLãŒæ­£ã—ã„ã‹ç¢ºèª
- WebhookãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª
- é€ä¿¡å…ˆãƒãƒ£ãƒ³ãƒãƒ«ã«AppãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

---

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License
